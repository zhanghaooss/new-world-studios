"use strict";(self["webpackChunkbmdstudio_ms_client"]=self["webpackChunkbmdstudio_ms_client"]||[]).push([[787],{1787:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var a=function(){var e=this,r=e._self._c;return r("el-form",{ref:"form",staticStyle:{width:"600px"},attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"导演姓名",prop:"directorName"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.directorName,callback:function(r){e.$set(e.form,"directorName",r)},expression:"form.directorName"}})],1),r("el-form-item",{attrs:{label:"导演头像",prop:"directorAvatar"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:`${e.UPLOADURL}/upload`,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.directorAvatar?r("img",{staticClass:"avatar",staticStyle:{"object-fit":"cover"},attrs:{src:e.form.directorAvatar}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("立即新增")]),r("el-button",[e._v("重置")])],1)],1)},s=[],o=t(1294),i={data(){return{form:{directorName:"",directorAvatar:""},rules:{directorName:[{required:!0,message:"该字段必填",trigger:"blur"}],directorAvatar:[{required:!0,message:"该字段必填",trigger:"blur"}]}}},methods:{submit(){this.$refs["form"].validate((e=>{e&&o.Z.directorApi.addDirector(this.form).then((e=>{console.log("新增导演",e),this.$message({message:"恭喜添加成功",type:"success"}),this.$refs["form"].resetFields()}))}))},handleAvatarSuccess(e,r){console.log("上传成功",e),this.form.directorAvatar=e.data},beforeAvatarUpload(e){const r="image/jpeg"===e.type,t="image/png"===e.type,a=e.size/1024/1024<2;return r||t?a||this.$message.error("上传头像图片大小不能超过 2MB!"):this.$message.error("上传头像图片只能是 JPG/PNG 格式且大小不能超过 2MB!"),(r||t)&&a}}},l=i,c=t(1001),m=(0,c.Z)(l,a,s,!1,null,"6eb145e8",null),d=m.exports}}]);
//# sourceMappingURL=787.3c53c237.js.map