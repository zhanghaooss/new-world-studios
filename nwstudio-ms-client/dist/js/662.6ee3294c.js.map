{"version":3,"file":"js/662.6ee3294c.js","mappings":"kLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAG,MAAMF,EAAG,IAAI,CAACG,YAAY,CAAC,MAAQ,YAAY,CAACL,EAAII,GAAGJ,EAAIM,GAAGN,EAAIO,SAASC,gBAAgBR,EAAII,GAAG,KAAKF,EAAG,IAAI,CAACG,YAAY,CAAC,MAAQ,YAAY,CAACL,EAAII,GAAGJ,EAAIM,GAAGN,EAAIO,SAASE,kBAAkB,IAAIT,EAAIM,GAAGN,EAAIO,SAASG,kBAAkB,OAAOV,EAAII,GAAG,WAAWF,EAAG,cAAcA,EAAG,UAAU,CAACS,IAAI,OAAON,YAAY,CAAC,MAAQ,SAASO,MAAM,CAAC,MAAQZ,EAAIa,KAAK,cAAc,SAAS,CAACX,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAG,YAAY,CAACS,IAAI,eAAeN,YAAY,CAAC,MAAQ,QAAQO,MAAM,CAAC,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,gBAAgBZ,EAAIc,aAAa,QAAUd,EAAIe,QAAQ,YAAc,YAAYC,MAAM,CAACC,MAAOjB,EAAIa,KAAKK,SAAUC,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIa,KAAM,WAAYO,EAAI,EAAEE,WAAW,kBAAkBtB,EAAIuB,GAAIvB,EAAIwB,YAAY,SAASC,GAAM,OAAOvB,EAAG,YAAY,CAACwB,IAAID,EAAKE,GAAGf,MAAM,CAAC,MAAQa,EAAKG,MAAM,MAAQH,EAAKE,KAAK,IAAG,IAAI,GAAGzB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAG,SAAS,CAACU,MAAM,CAAC,KAAO,KAAK,CAACV,EAAG,iBAAiB,CAACG,YAAY,CAAC,MAAQ,QAAQO,MAAM,CAAC,KAAO,OAAO,eAAe,aAAa,YAAc,QAAQI,MAAM,CAACC,MAAOjB,EAAIa,KAAKgB,eAAgBV,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIa,KAAM,iBAAkBO,EAAI,EAAEE,WAAW,0BAA0B,GAAGpB,EAAG,SAAS,CAAC4B,YAAY,OAAOzB,YAAY,CAAC,aAAa,UAAUO,MAAM,CAAC,KAAO,IAAI,CAACZ,EAAII,GAAG,OAAOF,EAAG,SAAS,CAACU,MAAM,CAAC,KAAO,KAAK,CAACV,EAAG,iBAAiB,CAACG,YAAY,CAAC,MAAQ,QAAQO,MAAM,CAAC,YAAc,OAAO,iBAAiB,CACt/CmB,MAAO,QACPC,KAAM,QACNC,IAAK,UACHjB,MAAM,CAACC,MAAOjB,EAAIa,KAAKqB,eAAgBf,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIa,KAAM,iBAAkBO,EAAI,EAAEE,WAAW,0BAA0B,IAAI,GAAGpB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,OAAO,CAACV,EAAG,WAAW,CAACc,MAAM,CAACC,MAAOjB,EAAIa,KAAKsB,MAAOhB,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIa,KAAM,QAASO,EAAI,EAAEE,WAAW,iBAAiB,GAAGpB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,SAAS,CAACV,EAAG,YAAY,CAACU,MAAM,CAAC,eAAe,EAAE,iBAAiB,GAAGI,MAAM,CAACC,MAAOjB,EAAIa,KAAKuB,OAAQjB,SAAS,SAAUC,GAAMpB,EAAIqB,KAAKrB,EAAIa,KAAM,SAAUO,EAAI,EAAEE,WAAW,kBAAkB,GAAGpB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,WAAWyB,GAAG,CAAC,MAAQrC,EAAIsC,WAAW,CAACtC,EAAII,GAAG,QAAQF,EAAG,YAAY,CAACF,EAAII,GAAG,SAAS,IAAI,IAAI,EAClsB,EACImC,EAAkB,G,UCkEtB,GACAC,OACA,OACA3B,KAAA,CACA4B,UAAA,GACAC,eAAA,KAAAC,OAAAC,OAAAC,OACA3B,SAAA,GACAW,eAAA,GACAK,eAAA,GACAE,OAAA,GACAD,MAAA,IAEA5B,SAAA,GACAQ,SAAA,EACAS,WAAA,GAEA,EACAsB,QAAA,CACAhC,aAAAiC,GACA,QAAAA,EAAA,CACA,KAAAhC,SAAA,EACA,IAAA6B,EAAA,CAAAI,KAAA,EAAAC,SAAA,GAAAC,KAAAH,GACAI,EAAAA,EAAAA,SAAAA,iBAAAP,GAAAQ,MAAAC,IACA,KAAAtC,SAAA,EACAuC,QAAAC,IAAA,aAAAF,GACA,KAAA7B,WAAA6B,EAAAb,KAAAA,KAAAgB,MAAA,GAEA,CAEA,EACAlB,WACA,KAAAzB,KAAA4B,UAAA,KAAAlC,SAAAkC,UACA,KAAA5B,KAAAuB,OAAA,KAAAvB,KAAAuB,OAAA,IACAkB,QAAAC,IAAA,KAAA1C,MACAsC,EAAAA,EAAAA,iBAAAA,IAAA,KAAAtC,MAAAuC,MAAAC,IACAC,QAAAC,IAAA,aAAAF,GACA,KAAAA,EAAAb,KAAAiB,OACA,KAAAC,QAAA,CACA9B,MAAA,OACA+B,0BAAA,EACAC,QAAA,iBAAAC,MAAA,gBAAAC,8CACwB7D,KAAxBY,KAAAgB,kBAAA,KAAAhB,KAAAqB,6CACuBjC,KAAvBM,SAAAE,+CACwBR,KAAxBY,KAAAsB,YACA4B,KAAA,YAEA,KAAAF,MAAA,QAAAG,cACA,GAEA,GAEAC,UACA,IAAArB,EAAA,CAAAjB,GAAA,KAAAd,KAAA6B,gBACAS,EAAAA,EAAAA,cAAAA,UAAAP,GAAAQ,MAAAC,IACAC,QAAAC,IAAA,QAAAF,GACA,KAAA9C,SAAA8C,EAAAb,KAAAA,IAAA,GAEA,GCjIyQ,I,UCOrQ0B,GAAY,OACd,EACAnE,EACAwC,GACA,EACA,KACA,WACA,MAIF,EAAe2B,EAAiB,O","sources":["webpack://bmdstudio-ms-client/./src/views/cinema/ShowingonPlanAdd.vue","webpack://bmdstudio-ms-client/src/views/cinema/ShowingonPlanAdd.vue","webpack://bmdstudio-ms-client/./src/views/cinema/ShowingonPlanAdd.vue?b870","webpack://bmdstudio-ms-client/./src/views/cinema/ShowingonPlanAdd.vue?73f4"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\" 为\"),_c('b',{staticStyle:{\"color\":\"#409eff\"}},[_vm._v(_vm._s(_vm.roomInfo.cinema_name))]),_vm._v(\"的\"),_c('b',{staticStyle:{\"color\":\"#409eff\"}},[_vm._v(_vm._s(_vm.roomInfo.cinema_room_name)+\"（\"+_vm._s(_vm.roomInfo.cinema_room_type)+\"）\")]),_vm._v(\"添加排片计划 \"),_c('el-divider'),_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"700px\"},attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"选择电影\"}},[_c('el-select',{ref:\"currentMovie\",staticStyle:{\"width\":\"100%\"},attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading,\"placeholder\":\"输入要安排的电影\"},model:{value:(_vm.form.movie_id),callback:function ($$v) {_vm.$set(_vm.form, \"movie_id\", $$v)},expression:\"form.movie_id\"}},_vm._l((_vm.queryMovie),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"放映日期\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"value-format\":\"yyyy-MM-dd\",\"placeholder\":\"选择日期\"},model:{value:(_vm.form.showingon_date),callback:function ($$v) {_vm.$set(_vm.form, \"showingon_date\", $$v)},expression:\"form.showingon_date\"}})],1),_c('el-col',{staticClass:\"line\",staticStyle:{\"text-align\":\"center\"},attrs:{\"span\":2}},[_vm._v(\"-\")]),_c('el-col',{attrs:{\"span\":11}},[_c('el-time-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"选择时间\",\"picker-options\":{\n\t\t\t\t\t\tstart: '06:00',\n\t\t\t\t\t\tstep: '00:15',\n\t\t\t\t\t\tend: '23:59',\n\t\t\t\t\t}},model:{value:(_vm.form.showingon_time),callback:function ($$v) {_vm.$set(_vm.form, \"showingon_time\", $$v)},expression:\"form.showingon_time\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"票价\"}},[_c('el-input',{model:{value:(_vm.form.price),callback:function ($$v) {_vm.$set(_vm.form, \"price\", $$v)},expression:\"form.price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"立即发布\"}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t为<b style=\"color: #409eff\">{{ roomInfo.cinema_name }}</b\r\n\t\t>的<b style=\"color: #409eff\"\r\n\t\t\t>{{ roomInfo.cinema_room_name }}（{{ roomInfo.cinema_room_type }}）</b\r\n\t\t>添加排片计划\r\n\t\t<el-divider></el-divider>\r\n\t\t<!--表单  -->\r\n\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\" style=\"width: 700px\">\r\n\t\t\t<el-form-item label=\"选择电影\">\r\n\t\t\t\t<el-select\r\n\t\t\t\t\tv-model=\"form.movie_id\"\r\n\t\t\t\t\tfilterable\r\n\t\t\t\t\tremote\r\n\t\t\t\t\treserve-keyword\r\n\t\t\t\t\t:remote-method=\"remoteMethod\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\tplaceholder=\"输入要安排的电影\"\r\n\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\tref=\"currentMovie\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"item in queryMovie\"\r\n\t\t\t\t\t\t:label=\"item.title\"\r\n\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t:value=\"item.id\"\r\n\t\t\t\t\t></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"放映日期\">\r\n\t\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tv-model=\"form.showingon_date\"\r\n\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\r\n\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col class=\"line\" :span=\"2\" style=\"text-align: center\">-</el-col>\r\n\t\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t\t<el-time-select\r\n\t\t\t\t\t\tv-model=\"form.showingon_time\"\r\n\t\t\t\t\t\tplaceholder=\"选择时间\"\r\n\t\t\t\t\t\t:picker-options=\"{\r\n\t\t\t\t\t\t\tstart: '06:00',\r\n\t\t\t\t\t\t\tstep: '00:15',\r\n\t\t\t\t\t\t\tend: '23:59',\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t></el-time-select>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"票价\">\r\n\t\t\t\t<el-input v-model=\"form.price\"></el-input>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"立即发布\">\r\n\t\t\t\t<el-switch :active-value=\"1\" :inactive-value=\"0\" v-model=\"form.status\"></el-switch>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n\t\t\t\t<el-button>取消</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport httpApi from '@/http';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tcinema_id: '',\r\n\t\t\t\t\tcinema_room_id: this.$route.params.roomId,\r\n\t\t\t\t\tmovie_id: '',\r\n\t\t\t\t\tshowingon_date: '',\r\n\t\t\t\t\tshowingon_time: '',\r\n\t\t\t\t\tstatus: '',\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t},\r\n\t\t\t\troomInfo: {}, //保存放映厅基本信息\r\n\t\t\t\tloading: false,\r\n\t\t\t\tqueryMovie: [], //保存模糊查询电影列表之后的结果\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tremoteMethod(query) {\r\n\t\t\t\tif (query !== '') {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tlet params = { page: 1, pagesize: 20, name: query };\r\n\t\t\t\t\thttpApi.movieApi.queryMovieByName(params).then((res) => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\tconsole.log('模糊查询电影列表结果', res);\r\n\t\t\t\t\t\tthis.queryMovie = res.data.data.result;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//远程搜索电影列表的方法\r\n\t\t\t},\r\n\t\t\tonSubmit() {\r\n\t\t\t\tthis.form.cinema_id = this.roomInfo.cinema_id;\r\n\t\t\t\tthis.form.status = this.form.status ? 1 : 0;\r\n\t\t\t\tconsole.log(this.form);\r\n\t\t\t\thttpApi.showingonPlanApi.add(this.form).then((res) => {\r\n\t\t\t\t\tconsole.log('添加排片计划的结果：', res);\r\n\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '添加成功',\r\n\t\t\t\t\t\t\tdangerouslyUseHTMLString: true,\r\n\t\t\t\t\t\t\tmessage: `<p>电影名称：《${this.$refs['currentMovie'].selectedLabel}》</p>\r\n\t             <p>播放日期：${this.form.showingon_date} ${this.form.showingon_time}</p>\r\n\t             <p>放映厅：${this.roomInfo.cinema_room_name}</p>\r\n               <p>票价：￥${this.form.price}</p>`,\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.$refs['form'].resetFields();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet params = { id: this.form.cinema_room_id };\r\n\t\t\thttpApi.cinemaRoomApi.queryById(params).then((res) => {\r\n\t\t\t\tconsole.log('放映厅信息', res);\r\n\t\t\t\tthis.roomInfo = res.data.data;\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShowingonPlanAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShowingonPlanAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowingonPlanAdd.vue?vue&type=template&id=11ecb724&scoped=true&\"\nimport script from \"./ShowingonPlanAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowingonPlanAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11ecb724\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","staticStyle","_s","roomInfo","cinema_name","cinema_room_name","cinema_room_type","ref","attrs","form","remoteMethod","loading","model","value","movie_id","callback","$$v","$set","expression","_l","queryMovie","item","key","id","title","showingon_date","staticClass","start","step","end","showingon_time","price","status","on","onSubmit","staticRenderFns","data","cinema_id","cinema_room_id","$route","params","roomId","methods","query","page","pagesize","name","httpApi","then","res","console","log","result","code","$notify","dangerouslyUseHTMLString","message","$refs","selectedLabel","type","resetFields","mounted","component"],"sourceRoot":""}