"use strict";(self["webpackChunkbmdstudio_ms_client"]=self["webpackChunkbmdstudio_ms_client"]||[]).push([[612],{1612:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",[e("el-form",{ref:"form",staticStyle:{width:"600px"},attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"演员姓名",prop:"actorName"}},[e("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.form.actorName,callback:function(e){t.$set(t.form,"actorName",e)},expression:"form.actorName"}})],1),e("el-form-item",{attrs:{label:"演员头像",prop:"actorAvatar"}},[e("el-upload",{staticClass:"avatar-uploader",attrs:{action:`${t.UPLOADURL}/upload`,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.form.actorAvatar?e("img",{staticClass:"avatar",staticStyle:{"object-fit":"cover"},attrs:{src:t.form.actorAvatar}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("立即新增")]),e("el-button",[t._v("重置")])],1)],1)],1)},s=[],o=a(1294),l={data(){return{form:{actorName:"",actorAvatar:""},rules:{actorName:[{required:!0,message:"该字段必填",trigger:"blur"}],actorAvatar:[{required:!0,message:"该字段必填",trigger:"blur"}]}}},methods:{submit(){this.$refs["form"].validate((t=>{t&&o.Z.actorApi.addActor(this.form).then((t=>{console.log("新增演员",t),this.$message({message:"恭喜添加成功",type:"success"}),this.$refs["form"].resetFields()}))}))},handleAvatarSuccess(t,e){console.log("上传成功",t),this.form.actorAvatar=t.data},beforeAvatarUpload(t){const e="image/jpeg"===t.type,a="image/png"===t.type,r=t.size/1024/1024<2;return e||a?r||this.$message.error("上传头像图片大小不能超过 2MB!"):this.$message.error("上传头像图片只能是 JPG/PNG 格式且大小不能超过 2MB!"),(e||a)&&r}}},i=l,c=a(1001),m=(0,c.Z)(i,r,s,!1,null,"018d7631",null),u=m.exports}}]);
//# sourceMappingURL=612.cc86e1e2.js.map