{"version":3,"file":"js/790.901400c7.js","mappings":"iLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,IAAI,OAAOC,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,MAAQN,EAAIO,KAAK,MAAQP,EAAIQ,MAAM,cAAc,UAAU,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACJ,EAAG,YAAY,CAACO,YAAY,kBAAkBH,MAAM,CAAC,OAAU,GAAEN,EAAIU,mBAAmB,kBAAiB,EAAM,aAAaV,EAAIW,oBAAoB,gBAAgBX,EAAIY,qBAAqB,CAAEZ,EAAIO,KAAKM,MAAOX,EAAG,MAAM,CAACO,YAAY,SAASJ,YAAY,CAAC,aAAa,SAASC,MAAM,CAAC,IAAMN,EAAIO,KAAKM,SAASX,EAAG,IAAI,CAACO,YAAY,yCAAyC,GAAGP,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACJ,EAAG,iBAAiB,CAACY,MAAM,CAACC,MAAOf,EAAIO,KAAKS,YAAaC,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,cAAeW,EAAI,EAAEE,WAAW,qBAAqB,CAAClB,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,IAAI,CAACN,EAAIqB,GAAG,QAAQnB,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,IAAI,CAACN,EAAIqB,GAAG,QAAQnB,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,IAAI,CAACN,EAAIqB,GAAG,SAAS,IAAI,GAAGnB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,eAAeQ,MAAM,CAACC,MAAOf,EAAIO,KAAKe,MAAOL,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,QAASW,EAAI,EAAEE,WAAW,iBAAiB,GAAGlB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,GAAG,YAAc,WAAWQ,MAAM,CAACC,MAAOf,EAAIO,KAAKgB,KAAMN,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,OAAQW,EAAI,EAAEE,WAAW,cAAcpB,EAAIwB,GAAIxB,EAAIyB,OAAO,SAASC,GAAM,OAAOxB,EAAG,YAAY,CAACyB,IAAID,EAAKE,GAAGtB,MAAM,CAAC,MAAQoB,EAAKG,SAAS,MAAQH,EAAKG,WAAW,IAAG,IAAI,GAAG3B,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,eAAe,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,SAAW,GAAG,WAAa,GAAG,OAAS,GAAG,kBAAkB,GAAG,YAAc,UAAU,gBAAgBN,EAAI8B,aAAa,QAAU9B,EAAI+B,SAASjB,MAAM,CAACC,MAAOf,EAAIO,KAAKyB,WAAYf,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,aAAcW,EAAI,EAAEE,WAAW,oBAAoBpB,EAAIwB,GAAIxB,EAAIiC,QAAQ,SAASP,GAAM,OAAOxB,EAAG,YAAY,CAACyB,IAAID,EAAKE,GAAGtB,MAAM,CAAC,MAAQoB,EAAKQ,WAAW,MAAQR,EAAKQ,aAAa,IAAG,IAAI,GAAGhC,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,CAACJ,EAAG,iBAAiB,CAACG,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAO,OAAO,YAAc,OAAO,eAAe,YAAYQ,MAAM,CAACC,MAAOf,EAAIO,KAAK4B,UAAWlB,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,YAAaW,EAAI,EAAEE,WAAW,qBAAqB,GAAGlB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACJ,EAAG,UAAU,CAACG,YAAY,CAAC,OAAS,OAAO,QAAU,OAAO,cAAc,UAAUC,MAAM,CAAC,IAAM,GAAG,OAASN,EAAIoC,QAAQtB,MAAM,CAACC,MAAOf,EAAIO,KAAK8B,MAAOpB,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,QAASW,EAAI,EAAEE,WAAW,iBAAiB,GAAGlB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACY,MAAM,CAACC,MAAOf,EAAIO,KAAK+B,SAAUrB,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,WAAYW,EAAI,EAAEE,WAAW,oBAAoB,GAAGlB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACJ,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,mBAAmB,CAACH,EAAG,UAAU,CAACG,YAAY,CAAC,gBAAgB,kBAAkBC,MAAM,CAAC,OAASN,EAAIuC,OAAO,cAAgBvC,EAAIwC,cAAc,KAAOxC,EAAIyC,QAAQvC,EAAG,SAAS,CAACG,YAAY,CAAC,OAAS,QAAQ,aAAa,UAAUC,MAAM,CAAC,cAAgBN,EAAI0C,aAAa,KAAO1C,EAAIyC,MAAME,GAAG,CAAC,UAAY3C,EAAI4C,WAAW9B,MAAM,CAACC,MAAOf,EAAIO,KAAKsC,YAAa5B,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIO,KAAM,cAAeW,EAAI,EAAEE,WAAW,uBAAuB,KAAKlB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWqC,GAAG,CAAC,MAAQ3C,EAAI8C,SAAS,CAAC9C,EAAIqB,GAAG,UAAUnB,EAAG,YAAY,CAACF,EAAIqB,GAAG,SAAS,IAAI,IAAI,EACzhH,EACI0B,EAAkB,G,oBC0GtB,GACAC,WAAA,CAAAC,OAAA,IAAAC,QAAAA,EAAAA,GACAC,OACA,OACApB,SAAA,EACAE,OAAA,GACAR,MAAA,GACAc,OAAA,KACAC,cAAA,GACAE,aAAA,CAAAU,YAAA,YACAX,KAAA,UACAL,OAAA,gCACA7B,KAAA,CACAqB,GAAA,KAAAyB,OAAAC,OAAA1B,GACAf,MAAA,GACAG,YAAA,EACAM,MAAA,GACAC,KAAA,GACAS,WAAA,GACAG,UAAA,GACAE,MAAA,EACAC,SAAA,GACAO,YAAA,gBAEArC,MAAA,CACAK,MAAA,EAAA0C,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAzC,YAAA,EAAAuC,UAAA,EAAAC,QAAA,QAAAC,QAAA,WACAnC,MAAA,EAAAiC,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAlC,KAAA,EAAAgC,UAAA,EAAAC,QAAA,QAAAC,QAAA,WACAzB,WAAA,EAAAuB,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAtB,UAAA,EAAAoB,UAAA,EAAAC,QAAA,QAAAC,QAAA,WACApB,MAAA,EAAAkB,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAnB,SAAA,EAAAiB,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAZ,YAAA,EAAAU,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAGA,EACAC,QAAA,CACAC,eACAC,EAAAA,EAAAA,SAAAA,eAAA,CAAAhC,GAAA,KAAArB,KAAAqB,KAAAiC,MAAAC,IACAC,QAAAC,IAAAF,GACA,KAAAvD,KAAAuD,EAAAX,KAAAA,KACA,KAAA5C,KAAA0D,WAAAC,EACA,KAAA3D,KAAA4D,cAAAD,EACA,KAAA3D,KAAA6D,WAAAF,EACA,KAAA3D,KAAAgB,KAAA,KAAAhB,KAAAgB,KAAA8C,MAAA,KACA,KAAA9D,KAAAyB,WAAA,KAAAzB,KAAAyB,WAAAqC,MAAA,KACA,KAAA9D,KAAA8B,MAAAiC,SAAA,KAAA/D,KAAA8B,MAAA,GAEA,EACAO,UAAAL,GACA,KAAAA,OAAAgC,OAAAC,KAAAjC,EACA,EAEAT,aAAA2C,GACAb,EAAAA,EAAAA,SAAAA,iBAAA,CAAAc,KAAAD,IAAAZ,MAAAC,IACA,KAAA7B,OAAA6B,EAAAX,KAAAA,IAAA,GAEA,EAEAwB,WACAf,EAAAA,EAAAA,SAAAA,iBAAAC,MAAAC,IACA,KAAArC,MAAAqC,EAAAX,KAAAA,IAAA,GAEA,EAEAL,SACA,KAAAvC,KAAAgB,KAAA,KAAAhB,KAAAgB,KAAAqD,KAAA,KACA,KAAArE,KAAAyB,WAAA,KAAAzB,KAAAyB,WAAA4C,KAAA,KACA,KAAAC,MAAA,QAAAC,UAAAC,IACAA,GACAnB,EAAAA,EAAAA,SAAAA,YAAA,KAAArD,MAAAsD,MAAAC,IACAC,QAAAC,IAAAF,GACA,KAAAA,EAAAX,KAAA6B,OACA,KAAAC,SAAA,CACAzB,QAAA,SACAjC,KAAA,YAGA,KAAAsD,MAAA,QAAAK,cACA,GAEA,GAEA,EAGAvE,oBAAAmD,EAAAqB,GACApB,QAAAC,IAAA,OAAAF,GAEA,KAAAvD,KAAAM,MAAAiD,EAAAX,IACA,EAKAvC,mBAAAuE,GACA,MAAAC,EAAA,eAAAD,EAAA5D,KACA8D,EAAA,cAAAF,EAAA5D,KACA+D,EAAAH,EAAAI,KAAA,YAQA,OANAH,GAAAC,EAEAC,GACA,KAAAL,SAAAO,MAAA,qBAFA,KAAAP,SAAAO,MAAA,qCAKAJ,GAAAC,IAAAC,CACA,GAEAG,UACA,KAAA9B,eACA,KAAAgB,UACA,EACAe,gBACA,MAAAnD,EAAA,KAAAA,OACA,MAAAA,GACAA,EAAAoD,SACA,GClOoQ,I,UCShQC,GAAY,OACd,EACA7F,EACAgD,GACA,EACA,KACA,WACA,MAIF,EAAe6C,EAAiB,O","sources":["webpack://bmdstudio-ms-client/./src/views/movie/MovieUpdate.vue","webpack://bmdstudio-ms-client/src/views/movie/MovieUpdate.vue","webpack://bmdstudio-ms-client/./src/views/movie/MovieUpdate.vue?eb56","webpack://bmdstudio-ms-client/./src/views/movie/MovieUpdate.vue?d279"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"600px\"},attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"封面图片\",\"prop\":\"cover\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":`${_vm.UPLOADURL}/upload`,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.form.cover)?_c('img',{staticClass:\"avatar\",staticStyle:{\"object-fit\":\"cover\"},attrs:{\"src\":_vm.form.cover}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"电影类别\",\"prop\":\"categoryid\"}},[_c('el-radio-group',{model:{value:(_vm.form.category_id),callback:function ($$v) {_vm.$set(_vm.form, \"category_id\", $$v)},expression:\"form.category_id\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"热映\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"待映\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"经典\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"电影名称\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入要添加的电影名称\"},model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电影类型\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择电影类型\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.types),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.typename,\"value\":item.typename}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"电影主演\",\"prop\":\"star_actor\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请输入主演名称\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},model:{value:(_vm.form.star_actor),callback:function ($$v) {_vm.$set(_vm.form, \"star_actor\", $$v)},expression:\"form.star_actor\"}},_vm._l((_vm.actors),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.actor_name,\"value\":item.actor_name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"上映时间\",\"prop\":\"showingon\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-m-d\"},model:{value:(_vm.form.showingon),callback:function ($$v) {_vm.$set(_vm.form, \"showingon\", $$v)},expression:\"form.showingon\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电影评分\",\"prop\":\"score\"}},[_c('el-rate',{staticStyle:{\"height\":\"40px\",\"display\":\"flex\",\"align-items\":\"center\"},attrs:{\"max\":10,\"colors\":_vm.colors},model:{value:(_vm.form.score),callback:function ($$v) {_vm.$set(_vm.form, \"score\", $$v)},expression:\"form.score\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电影时长\",\"prop\":\"duration\"}},[_c('el-input',{model:{value:(_vm.form.duration),callback:function ($$v) {_vm.$set(_vm.form, \"duration\", $$v)},expression:\"form.duration\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电影简介\",\"prop\":\"description\"}},[_c('div',{staticStyle:{\"border\":\"1px solid #ccc\"}},[_c('Toolbar',{staticStyle:{\"border-bottom\":\"1px solid #ccc\"},attrs:{\"editor\":_vm.editor,\"defaultConfig\":_vm.toolbarConfig,\"mode\":_vm.mode}}),_c('Editor',{staticStyle:{\"height\":\"300px\",\"overflow-y\":\"hidden\"},attrs:{\"defaultConfig\":_vm.editorConfig,\"mode\":_vm.mode},on:{\"onCreated\":_vm.onCreated},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1)]),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"立即更新\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<!-- 表单 -->\r\n\t\t<el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" style=\"width: 600px\">\r\n\t\t\t<el-form-item label=\"封面图片\" prop=\"cover\">\r\n\t\t\t\t<el-upload\r\n\t\t\t\t\tclass=\"avatar-uploader\"\r\n\t\t\t\t\t:action=\"`${UPLOADURL}/upload`\"\r\n\t\t\t\t\t:show-file-list=\"false\"\r\n\t\t\t\t\t:on-success=\"handleAvatarSuccess\"\r\n\t\t\t\t\t:before-upload=\"beforeAvatarUpload\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<img style=\"object-fit: cover\" v-if=\"form.cover\" :src=\"form.cover\" class=\"avatar\" />\r\n\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t</el-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影类别\" prop=\"categoryid\">\r\n\t\t\t\t<el-radio-group v-model=\"form.category_id\">\r\n\t\t\t\t\t<el-radio :label=\"1\">热映</el-radio>\r\n\t\t\t\t\t<el-radio :label=\"2\">待映</el-radio>\r\n\t\t\t\t\t<el-radio :label=\"3\">经典</el-radio>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影名称\" prop=\"title\">\r\n\t\t\t\t<el-input v-model=\"form.title\" placeholder=\"请输入要添加的电影名称\" />\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影类型\" prop=\"type\">\r\n\t\t\t\t<el-select v-model=\"form.type\" multiple placeholder=\"请选择电影类型\">\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"item in types\"\r\n\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t:label=\"item.typename\"\r\n\t\t\t\t\t\t:value=\"item.typename\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影主演\" prop=\"star_actor\">\r\n\t\t\t\t<el-select\r\n\t\t\t\t\tv-model=\"form.star_actor\"\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tfilterable\r\n\t\t\t\t\tremote\r\n\t\t\t\t\treserve-keyword\r\n\t\t\t\t\tplaceholder=\"请输入主演名称\"\r\n\t\t\t\t\t:remote-method=\"remoteMethod\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"item in actors\"\r\n\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t:label=\"item.actor_name\"\r\n\t\t\t\t\t\t:value=\"item.actor_name\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"上映时间\" prop=\"showingon\">\r\n\t\t\t\t<el-date-picker\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\tvalue-format=\"yyyy-m-d\"\r\n\t\t\t\t\tv-model=\"form.showingon\"\r\n\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t></el-date-picker>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"电影评分\" prop=\"score\">\r\n\t\t\t\t<el-rate\r\n\t\t\t\t\tstyle=\"height: 40px; display: flex; align-items: center\"\r\n\t\t\t\t\tv-model=\"form.score\"\r\n\t\t\t\t\t:max=\"10\"\r\n\t\t\t\t\t:colors=\"colors\"\r\n\t\t\t\t>\r\n\t\t\t\t</el-rate>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影时长\" prop=\"duration\">\r\n\t\t\t\t<el-input v-model=\"form.duration\" />\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"电影简介\" prop=\"description\">\r\n\t\t\t\t<div style=\"border: 1px solid #ccc\">\r\n\t\t\t\t\t<Toolbar\r\n\t\t\t\t\t\tstyle=\"border-bottom: 1px solid #ccc\"\r\n\t\t\t\t\t\t:editor=\"editor\"\r\n\t\t\t\t\t\t:defaultConfig=\"toolbarConfig\"\r\n\t\t\t\t\t\t:mode=\"mode\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tstyle=\"height: 300px; overflow-y: hidden\"\r\n\t\t\t\t\t\tv-model=\"form.description\"\r\n\t\t\t\t\t\t:defaultConfig=\"editorConfig\"\r\n\t\t\t\t\t\t:mode=\"mode\"\r\n\t\t\t\t\t\t@onCreated=\"onCreated\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submit\">立即更新</el-button>\r\n\t\t\t\t<el-button>取消</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport httpApi from '../../http';\r\n\r\n\timport { Editor, Toolbar } from '@wangeditor/editor-for-vue';\r\n\texport default {\r\n\t\tcomponents: { Editor, Toolbar },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tactors: [],\r\n\t\t\t\ttypes: [],\r\n\t\t\t\teditor: null,\r\n\t\t\t\ttoolbarConfig: {},\r\n\t\t\t\teditorConfig: { placeholder: '请输入内容...' },\r\n\t\t\t\tmode: 'default', // or 'simple'\r\n\t\t\t\tcolors: ['#99A9BF', '#F7BA2A', '#FF9900'],\r\n\t\t\t\tform: {\r\n\t\t\t\t\tid: this.$route.params.id,\r\n\t\t\t\t\tcover: '',\r\n\t\t\t\t\tcategory_id: 1,\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\ttype: [],\r\n\t\t\t\t\tstar_actor: [],\r\n\t\t\t\t\tshowingon: '',\r\n\t\t\t\t\tscore: 0,\r\n\t\t\t\t\tduration: '',\r\n\t\t\t\t\tdescription: '<p>hello</p>',\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tcover: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\tcategory_id: [{ required: true, message: '该字段必填', trigger: 'change' }],\r\n\t\t\t\t\ttitle: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\ttype: [{ required: true, message: '该字段必填', trigger: 'change' }],\r\n\t\t\t\t\tstar_actor: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\tshowingon: [{ required: true, message: '该字段必填', trigger: 'change' }],\r\n\t\t\t\t\tscore: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\tduration: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\tdescription: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetMovieInfo() {\r\n\t\t\t\thttpApi.movieApi.queryMoiveById({ id: this.form.id }).then((res) => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tthis.form = res.data.data;\r\n\t\t\t\t\tthis.form.actor = undefined;\r\n\t\t\t\t\tthis.form.director = undefined;\r\n\t\t\t\t\tthis.form.thumb = undefined;\r\n\t\t\t\t\tthis.form.type = this.form.type.split('／');\r\n\t\t\t\t\tthis.form.star_actor = this.form.star_actor.split('／');\r\n\t\t\t\t\tthis.form.score = parseInt(this.form.score);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonCreated(editor) {\r\n\t\t\t\tthis.editor = Object.seal(editor); // 一定要用 Object.seal() ，否则会报错\r\n\t\t\t},\r\n\t\t\t//远程表单\r\n\t\t\tremoteMethod(query) {\r\n\t\t\t\thttpApi.actorApi.queryActorByName({ name: query }).then((res) => {\r\n\t\t\t\t\tthis.actors = res.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//电影类型\r\n\t\t\tgetTypes() {\r\n\t\t\t\thttpApi.movieApi.queryMoiveType().then((res) => {\r\n\t\t\t\t\tthis.types = res.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 提交表单\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.form.type = this.form.type.join('／');\r\n\t\t\t\tthis.form.star_actor = this.form.star_actor.join('／');\r\n\t\t\t\tthis.$refs['form'].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\thttpApi.movieApi.updateMoive(this.form).then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '恭喜修改成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t// 重置表单将会重置每个表单项，需要form-item提供prop属性\r\n\t\t\t\t\t\t\t\tthis.$refs['form'].resetFields();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 上传成功后执行\r\n\t\t\thandleAvatarSuccess(res, file) {\r\n\t\t\t\tconsole.log('上传成功', res);\r\n\t\t\t\t// 将返回的图片访问路径 存入 this.form中\r\n\t\t\t\tthis.form.cover = res.data;\r\n\t\t\t},\r\n\r\n\t\t\t// 头像上传前执行：格式、大小的验证，该方法需要返回true、false\r\n\t\t\t// true:  验证通过可以上传\r\n\t\t\t// false: 验证不通过，阻止上传\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\t\tconst isPNG = file.type === 'image/png';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!(isJPG || isPNG)) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG/PNG 格式且大小不能超过 2MB!');\r\n\t\t\t\t} else if (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (isJPG || isPNG) && isLt2M;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getMovieInfo();\r\n\t\t\tthis.getTypes();\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tconst editor = this.editor;\r\n\t\t\tif (editor == null) return;\r\n\t\t\teditor.destroy(); // 组件销毁时，及时销毁编辑器\r\n\t\t},\r\n\t};\r\n</script>\r\n<style src=\"@wangeditor/editor/dist/css/style.css\"></style>\r\n<style lang=\"scss\" scoped></style>\r\n\r\n<style>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409eff;\r\n\t}\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 120px;\r\n\t\theight: 120px;\r\n\t\tline-height: 120px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.avatar {\r\n\t\twidth: 120px;\r\n\t\theight: 120px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MovieUpdate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MovieUpdate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MovieUpdate.vue?vue&type=template&id=60c469dc&scoped=true&\"\nimport script from \"./MovieUpdate.vue?vue&type=script&lang=js&\"\nexport * from \"./MovieUpdate.vue?vue&type=script&lang=js&\"\nimport style0 from \"@wangeditor/editor/dist/css/style.css?vue&type=style&index=0&prod&lang=css&\"\nimport style2 from \"./MovieUpdate.vue?vue&type=style&index=2&id=60c469dc&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60c469dc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticStyle","attrs","form","rules","staticClass","UPLOADURL","handleAvatarSuccess","beforeAvatarUpload","cover","model","value","category_id","callback","$$v","$set","expression","_v","title","type","_l","types","item","key","id","typename","remoteMethod","loading","star_actor","actors","actor_name","showingon","colors","score","duration","editor","toolbarConfig","mode","editorConfig","on","onCreated","description","submit","staticRenderFns","components","Editor","Toolbar","data","placeholder","$route","params","required","message","trigger","methods","getMovieInfo","httpApi","then","res","console","log","actor","undefined","director","thumb","split","parseInt","Object","seal","query","name","getTypes","join","$refs","validate","valid","code","$message","resetFields","file","isJPG","isPNG","isLt2M","size","error","mounted","beforeDestroy","destroy","component"],"sourceRoot":""}