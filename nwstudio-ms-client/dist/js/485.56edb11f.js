"use strict";(self["webpackChunkbmdstudio_ms_client"]=self["webpackChunkbmdstudio_ms_client"]||[]).push([[485],{7485:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("div",[t("b",{staticStyle:{color:"#409eff"}},[e._v(e._s(e.roomInfo.cinema_name))]),e._v("的"),t("b",{staticStyle:{color:"#409eff"}},[e._v(e._s(e.roomInfo.cinema_room_name)+"（"+e._s(e.roomInfo.cinema_room_type)+"）")]),e._v("的排片计划 "),t("el-divider"),t("el-table",{attrs:{data:e.planList}},[t("el-table-column",{attrs:{label:"电影名称",prop:"title"}}),t("el-table-column",{attrs:{label:"放映日期",prop:"showingon_date",width:"110px"}}),t("el-table-column",{attrs:{label:"放映场次",prop:"showingon_time",width:"100px"}}),t("el-table-column",{attrs:{label:"票价",width:"110px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ￥"+e._s(t.row.price)+"元 ")]}}])}),t("el-table-column",{attrs:{label:"发布状态"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-switch",{attrs:{"active-text":"已发布","inactive-text":"暂未发布","active-value":1,"inactive-value":0},on:{change:function(t){return e.statusChange(o.row.plan_id,t)}},model:{value:o.row.status,callback:function(t){e.$set(o.row,"status",t)},expression:"scope.row.status"}})]}}])}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{size:"small",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deletePlan(o.row.plan_id)}}})]}}])})],1)],1)},a=[],s=o(1294),l={data(){return{planList:[],roomId:this.$route.params.roomId,roomInfo:{}}},methods:{getRoomPlanList(){s.Z.showingonPlanApi.queryByRoomId({room_id:this.roomId}).then((e=>{console.log("放映厅排片计划表",e),this.planList=e.data.data}))},statusChange(e,t){t?s.Z.showingonPlanApi.publish({id:e}).then((e=>{console.log(e),200==e.data.code&&this.$message({message:"发布成功",type:"success"})})):s.Z.showingonPlanApi.noPublish({id:e}).then((e=>{200==e.data.code&&this.$message({message:"取消发布",type:"warning"})}))},deletePlan(e){s.Z.showingonPlanApi["delete"]({id:e}).then((e=>{console.log("删除成功：",e),200==e.data.code&&this.$message({message:"删除成功",type:"success"}),this.getRoomPlanList()}))}},mounted(){this.getRoomPlanList();let e={id:this.roomId};s.Z.cinemaRoomApi.queryById(e).then((e=>{console.log("放映厅信息",e),this.roomInfo=e.data.data}))}},i=l,r=o(1001),c=(0,r.Z)(i,n,a,!1,null,"5fc30dc0",null),u=c.exports}}]);
//# sourceMappingURL=485.56edb11f.js.map