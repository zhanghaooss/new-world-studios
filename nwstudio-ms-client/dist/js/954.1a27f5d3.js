"use strict";(self["webpackChunkbmdstudio_ms_client"]=self["webpackChunkbmdstudio_ms_client"]||[]).push([[954],{1428:function(t,e,i){i.d(e,{Z:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"person"},[e("img",{attrs:{src:t.avatar,alt:""}}),e("div",[t._v(t._s(t.name))]),e("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"确定删除吗？"},on:{confirm:t.clickx}},[e("i",{staticClass:"el-icon-circle-close",attrs:{slot:"reference"},slot:"reference"})])],1)},s=[],n={props:{name:{type:String,required:!0},avatar:{type:String,required:!0}},methods:{clickx(){this.$emit("delete",{name:"老新",time:"刚才"})}}},a=n,o=i(1001),c=(0,o.Z)(a,r,s,!1,null,"505aa538",null),l=c.exports},954:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"director-list"},[[t._v(" 姓名 "),e("el-autocomplete",{staticClass:"inline-input",attrs:{"fetch-suggestions":t.querySearch,placeholder:"请输入导演名字","trigger-on-focus":!1},on:{select:t.handleSelect},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleEnter.apply(null,arguments)}},model:{value:t.state2,callback:function(e){t.state2=e},expression:"state2"}}),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:t.searchDi},slot:"append"})],e("el-divider",{attrs:{"content-position":"left"}},[t._v("导演列表")]),t._l(t.resList,(function(i){return e("Person",{key:i.id,attrs:{name:i.director_name,avatar:i.director_avatar},on:{delete:function(e){return t.DeleteDirector(e,i.id)}}})}))],2)},s=[],n=(i(6014),i(1428)),a=i(1294),o={data(){return{directorLists:[],inputTip:[],resList:[],state2:""}},components:{Person:n.Z},methods:{DirectorList(){a.Z.directorApi.queryAllDirector().then((t=>{let e=t.data.data;this.directorLists=e.map((t=>({...t,value:t.director_name}))),this.resList=this.directorLists,this.inputTip=this.directorLists}))},getListByName(t){a.Z.directorApi.queryDirectorByName({name:t}).then((t=>{this.resList=t.data.data}))},handleEnter(){this.state2?this.getListByName(this.state2.trim()):this.resList=this.directorLists},searchDi(){this.state2?this.getListByName(this.state2.trim()):this.DirectorList()},querySearch(t,e){var i=this.inputTip,r=t?i.filter(this.createFilter(t)):i;console.log(r),e(r)},createFilter(t){return e=>0===e.value.toLowerCase().indexOf(t.toLowerCase())},handleSelect(t){this.getListByName(t.director_name)},DeleteDirector(t,e){a.Z.directorApi.DeleteDirectorById({id:e}).then((t=>{200==t.data.code&&this.searchDi()}))}},mounted(){this.DirectorList()}},c=o,l=i(1001),d=(0,l.Z)(c,r,s,!1,null,"fa4a3ffc",null),u=d.exports}}]);
//# sourceMappingURL=954.1a27f5d3.js.map