{"version":3,"file":"js/502.6c422eae.js","mappings":"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","sources":["webpack://bmdstudio-ms-client/./src/views/cinema/CinemaRoomList.vue","webpack://bmdstudio-ms-client/src/views/cinema/CinemaRoomList.vue","webpack://bmdstudio-ms-client/./src/views/cinema/CinemaRoomList.vue?d468","webpack://bmdstudio-ms-client/./src/views/cinema/CinemaRoomList.vue?ac02"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新增放映厅\")]),_c('el-dialog',{attrs:{\"title\":\"新增放映厅\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"放映厅名称\",\"prop\":\"room_name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.room_name),callback:function ($$v) {_vm.$set(_vm.form, \"room_name\", $$v)},expression:\"form.room_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"放映厅类型\",\"prop\":\"room_type\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请选择放映厅类型\",\"remote-method\":_vm.remoteMethod,\"loading\":_vm.loading},model:{value:(_vm.form.room_type),callback:function ($$v) {_vm.$set(_vm.form, \"room_type\", $$v)},expression:\"form.room_type\"}},_vm._l((_vm.type_option),function(item){return _c('el-option',{key:item.type_id,attrs:{\"label\":item.type_name,\"value\":item.type_name}})}),1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1),_c('el-divider',{attrs:{\"content-position\":\"left\"}},[_vm._v(\"放映厅列表\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cinemaRoomData}},[_c('el-table-column',{attrs:{\"label\":\"放映厅名称\",\"prop\":\"room_name\"}}),_c('el-table-column',{attrs:{\"label\":\"放映厅类型\",\"prop\":\"room_type\"}}),_c('el-table-column',{attrs:{\"sortable\":\"\",\"label\":\"座位数\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.room_size ? scope.row.room_size : '[暂未更新]')+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"success\",\"icon\":\"el-icon-view\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/home/showingon-plan-list/' + scope.row.id)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/home/showingon-plan-add/' + scope.row.id)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"warning\",\"icon\":\"el-icon-s-grid\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.push('/home/seat-template/' + scope.row.id)}}}),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deleteRoom(scope.row.id)}}})]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<!-- 放映厅 -->\r\n\t\t<el-button type=\"primary\" plain @click=\"dialogFormVisible = true\">新增放映厅</el-button>\r\n\r\n\t\t<el-dialog title=\"新增放映厅\" :visible.sync=\"dialogFormVisible\">\r\n\t\t\t<el-form :model=\"form\" ref=\"form\" :rules=\"rules\" label-width=\"110px\">\r\n\t\t\t\t<el-form-item label=\"放映厅名称\" prop=\"room_name\">\r\n\t\t\t\t\t<el-input v-model=\"form.room_name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"放映厅类型\" prop=\"room_type\">\r\n\t\t\t\t\t<el-select\r\n\t\t\t\t\t\tv-model=\"form.room_type\"\r\n\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\tfilterable\r\n\t\t\t\t\t\tremote\r\n\t\t\t\t\t\treserve-keyword\r\n\t\t\t\t\t\tplaceholder=\"请选择放映厅类型\"\r\n\t\t\t\t\t\t:remote-method=\"remoteMethod\"\r\n\t\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<el-option\r\n\t\t\t\t\t\t\tv-for=\"item in type_option\"\r\n\t\t\t\t\t\t\t:key=\"item.type_id\"\r\n\t\t\t\t\t\t\t:label=\"item.type_name\"\r\n\t\t\t\t\t\t\t:value=\"item.type_name\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t\t<el-divider content-position=\"left\">放映厅列表</el-divider>\r\n\r\n\t\t<el-table :data=\"cinemaRoomData\" style=\"width: 100%\">\r\n\t\t\t<el-table-column label=\"放映厅名称\" prop=\"room_name\"></el-table-column>\r\n\t\t\t<el-table-column label=\"放映厅类型\" prop=\"room_type\"></el-table-column>\r\n\t\t\t<el-table-column sortable label=\"座位数\" align=\"center\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{ scope.row.room_size ? scope.row.room_size : '[暂未更新]' }}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"操作\" align=\"center\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\ticon=\"el-icon-view\"\r\n\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t@click=\"$router.push('/home/showingon-plan-list/' + scope.row.id)\"\r\n\t\t\t\t\t></el-button>\r\n\t\t\t\t\t<!-- 跳转到对应放映厅的排片计划 -->\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\ticon=\"el-icon-plus\"\r\n\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t@click=\"$router.push('/home/showingon-plan-add/' + scope.row.id)\"\r\n\t\t\t\t\t></el-button>\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ttype=\"warning\"\r\n\t\t\t\t\t\ticon=\"el-icon-s-grid\"\r\n\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t@click=\"$router.push('/home/seat-template/' + scope.row.id)\"\r\n\t\t\t\t\t></el-button>\r\n\t\t\t\t\t<el-button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\ttype=\"danger\"\r\n\t\t\t\t\t\ticon=\"el-icon-delete\"\r\n\t\t\t\t\t\tcircle\r\n\t\t\t\t\t\t@click=\"deleteRoom(scope.row.id)\"\r\n\t\t\t\t\t></el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport httpApi from '@/http';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogFormVisible: false,\r\n\t\t\t\tform: {\r\n\t\t\t\t\troom_name: '',\r\n\t\t\t\t\troom_type: [],\r\n\t\t\t\t\tmovie_cinema_id: this.$route.params.cinemaId,\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\troom_name: [{ required: true, message: '必填', trigger: 'blur' }],\r\n\t\t\t\t\troom_type: [{ required: true, message: '必填', trigger: 'change' }],\r\n\t\t\t\t},\r\n\t\t\t\ttype_option: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\tcinemaRoomData: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetTypesList() {\r\n\t\t\t\thttpApi.cinemaRoomApi.queryAllTypes().then((res) => {\r\n\t\t\t\t\tthis.type_option = res.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tremoteMethod() {},\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.$refs['form'].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.form.room_type = String(this.form.room_type);\r\n\t\t\t\t\t\thttpApi.cinemaRoomApi.add(this.form).then((res) => {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\tif (res.data.code == 200) {\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tmessage: '添加成功成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.getRoom();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.dialogFormVisible = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetRoom() {\r\n\t\t\t\thttpApi.cinemaRoomApi.list({ cinema_id: this.form.movie_cinema_id }).then((res) => {\r\n\t\t\t\t\tconsole.log(this.form.movie_cinema_id + '对应的所有影厅:', res);\r\n\t\t\t\t\tthis.cinemaRoomData = res.data.data;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteRoom(id) {\r\n\t\t\t\thttpApi.cinemaRoomApi.delete({ id }).then((res) => {\r\n\t\t\t\t\tconsole.log('删除放映厅：', res);\r\n\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '删除成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getRoom();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.getTypesList();\r\n\t\t\tthis.getRoom();\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CinemaRoomList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CinemaRoomList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CinemaRoomList.vue?vue&type=template&id=55bb9cdd&scoped=true&\"\nimport script from \"./CinemaRoomList.vue?vue&type=script&lang=js&\"\nexport * from \"./CinemaRoomList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55bb9cdd\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","$event","dialogFormVisible","_v","ref","form","rules","model","value","room_name","callback","$$v","$set","expression","remoteMethod","loading","room_type","_l","type_option","item","key","type_id","type_name","staticClass","slot","submit","staticStyle","cinemaRoomData","scopedSlots","_u","fn","scope","_s","row","room_size","$router","push","id","deleteRoom","staticRenderFns","data","movie_cinema_id","$route","params","cinemaId","required","message","trigger","methods","getTypesList","httpApi","then","res","$refs","validate","valid","String","console","log","code","$message","type","getRoom","cinema_id","mounted","component"],"sourceRoot":""}