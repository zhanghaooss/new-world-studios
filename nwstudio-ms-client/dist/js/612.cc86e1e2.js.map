{"version":3,"file":"js/612.cc86e1e2.js","mappings":"kLAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,IAAI,OAAOC,YAAY,CAAC,MAAQ,SAASC,MAAM,CAAC,MAAQN,EAAIO,KAAK,MAAQP,EAAIQ,MAAM,cAAc,UAAU,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,YAAc,SAASG,MAAM,CAACC,MAAOV,EAAIO,KAAKI,UAAWC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,KAAM,YAAaM,EAAI,EAAEE,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACJ,EAAG,YAAY,CAACc,YAAY,kBAAkBV,MAAM,CAAC,OAAU,GAAEN,EAAIiB,mBAAmB,kBAAiB,EAAM,aAAajB,EAAIkB,oBAAoB,gBAAgBlB,EAAImB,qBAAqB,CAAEnB,EAAIO,KAAKa,YAAalB,EAAG,MAAM,CAACc,YAAY,SAASX,YAAY,CAAC,aAAa,SAASC,MAAM,CAAC,IAAMN,EAAIO,KAAKa,eAAelB,EAAG,IAAI,CAACc,YAAY,yCAAyC,GAAGd,EAAG,eAAe,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWe,GAAG,CAAC,MAAQrB,EAAIsB,SAAS,CAACtB,EAAIuB,GAAG,UAAUrB,EAAG,YAAY,CAACF,EAAIuB,GAAG,SAAS,IAAI,IAAI,EACngC,EACIC,EAAkB,G,UCiCtB,GACAC,OACA,OACAlB,KAAA,CACAI,UAAA,GACAS,YAAA,IAEAZ,MAAA,CACAG,UAAA,EAAAe,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAR,YAAA,EAAAM,UAAA,EAAAC,QAAA,QAAAC,QAAA,UAGA,EACAC,QAAA,CAEAP,SACA,KAAAQ,MAAA,QAAAC,UAAAC,IACAA,GACAC,EAAAA,EAAAA,SAAAA,SAAA,KAAA1B,MAAA2B,MAAAC,IACAC,QAAAC,IAAA,OAAAF,GACA,KAAAG,SAAA,CACAX,QAAA,SACAY,KAAA,YAGA,KAAAT,MAAA,QAAAU,aAAA,GAEA,GAEA,EAGAtB,oBAAAiB,EAAAM,GACAL,QAAAC,IAAA,OAAAF,GAEA,KAAA5B,KAAAa,YAAAe,EAAAV,IACA,EAKAN,mBAAAsB,GACA,MAAAC,EAAA,eAAAD,EAAAF,KACAI,EAAA,cAAAF,EAAAF,KACAK,EAAAH,EAAAI,KAAA,YAQA,OANAH,GAAAC,EAEAC,GACA,KAAAN,SAAAQ,MAAA,qBAFA,KAAAR,SAAAQ,MAAA,qCAKAJ,GAAAC,IAAAC,CACA,ICxFiQ,I,UCQ7PG,GAAY,OACd,EACAhD,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAeuB,EAAiB,O","sources":["webpack://bmdstudio-ms-client/./src/views/actor/ActorAdd.vue","webpack://bmdstudio-ms-client/src/views/actor/ActorAdd.vue","webpack://bmdstudio-ms-client/./src/views/actor/ActorAdd.vue?221f","webpack://bmdstudio-ms-client/./src/views/actor/ActorAdd.vue?b5ba"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-form',{ref:\"form\",staticStyle:{\"width\":\"600px\"},attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"演员姓名\",\"prop\":\"actorName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.form.actorName),callback:function ($$v) {_vm.$set(_vm.form, \"actorName\", $$v)},expression:\"form.actorName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"演员头像\",\"prop\":\"actorAvatar\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":`${_vm.UPLOADURL}/upload`,\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.form.actorAvatar)?_c('img',{staticClass:\"avatar\",staticStyle:{\"object-fit\":\"cover\"},attrs:{\"src\":_vm.form.actorAvatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"立即新增\")]),_c('el-button',[_vm._v(\"重置\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div>\r\n\t\t<!-- 表单 -->\r\n\t\t<el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\" style=\"width: 600px\">\r\n\t\t\t<el-form-item label=\"演员姓名\" prop=\"actorName\">\r\n\t\t\t\t<el-input v-model=\"form.actorName\" placeholder=\"请输入姓名\" />\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item label=\"演员头像\" prop=\"actorAvatar\">\r\n\t\t\t\t<el-upload\r\n\t\t\t\t\tclass=\"avatar-uploader\"\r\n\t\t\t\t\t:action=\"`${UPLOADURL}/upload`\"\r\n\t\t\t\t\t:show-file-list=\"false\"\r\n\t\t\t\t\t:on-success=\"handleAvatarSuccess\"\r\n\t\t\t\t\t:before-upload=\"beforeAvatarUpload\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle=\"object-fit: cover\"\r\n\t\t\t\t\t\tv-if=\"form.actorAvatar\"\r\n\t\t\t\t\t\t:src=\"form.actorAvatar\"\r\n\t\t\t\t\t\tclass=\"avatar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n\t\t\t\t</el-upload>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submit\">立即新增</el-button>\r\n\t\t\t\t<el-button>重置</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport httpApi from '../../http';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tactorName: '', // 绑定演员名字\r\n\t\t\t\t\tactorAvatar: '', // 绑定演员头像\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\tactorName: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t\tactorAvatar: [{ required: true, message: '该字段必填', trigger: 'blur' }],\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 提交表单\r\n\t\t\tsubmit() {\r\n\t\t\t\tthis.$refs['form'].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\thttpApi.actorApi.addActor(this.form).then((res) => {\r\n\t\t\t\t\t\t\tconsole.log('新增演员', res);\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '恭喜添加成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// 重置表单将会重置每个表单项，需要form-item提供prop属性\r\n\t\t\t\t\t\t\tthis.$refs['form'].resetFields();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 上传成功后执行\r\n\t\t\thandleAvatarSuccess(res, file) {\r\n\t\t\t\tconsole.log('上传成功', res);\r\n\t\t\t\t// 将返回的图片访问路径 存入 this.form中\r\n\t\t\t\tthis.form.actorAvatar = res.data;\r\n\t\t\t},\r\n\r\n\t\t\t// 头像上传前执行：格式、大小的验证，该方法需要返回true、false\r\n\t\t\t// true:  验证通过可以上传\r\n\t\t\t// false: 验证不通过，阻止上传\r\n\t\t\tbeforeAvatarUpload(file) {\r\n\t\t\t\tconst isJPG = file.type === 'image/jpeg';\r\n\t\t\t\tconst isPNG = file.type === 'image/png';\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n\t\t\t\tif (!(isJPG || isPNG)) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片只能是 JPG/PNG 格式且大小不能超过 2MB!');\r\n\t\t\t\t} else if (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('上传头像图片大小不能超过 2MB!');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (isJPG || isPNG) && isLt2M;\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n\r\n<style>\r\n\t.avatar-uploader .el-upload {\r\n\t\tborder: 1px dashed #d9d9d9;\r\n\t\tborder-radius: 6px;\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.avatar-uploader .el-upload:hover {\r\n\t\tborder-color: #409eff;\r\n\t}\r\n\t.avatar-uploader-icon {\r\n\t\tfont-size: 28px;\r\n\t\tcolor: #8c939d;\r\n\t\twidth: 120px;\r\n\t\theight: 120px;\r\n\t\tline-height: 120px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.avatar {\r\n\t\twidth: 120px;\r\n\t\theight: 120px;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActorAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ActorAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActorAdd.vue?vue&type=template&id=018d7631&scoped=true&\"\nimport script from \"./ActorAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ActorAdd.vue?vue&type=script&lang=js&\"\nimport style1 from \"./ActorAdd.vue?vue&type=style&index=1&id=018d7631&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"018d7631\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticStyle","attrs","form","rules","model","value","actorName","callback","$$v","$set","expression","staticClass","UPLOADURL","handleAvatarSuccess","beforeAvatarUpload","actorAvatar","on","submit","_v","staticRenderFns","data","required","message","trigger","methods","$refs","validate","valid","httpApi","then","res","console","log","$message","type","resetFields","file","isJPG","isPNG","isLt2M","size","error","component"],"sourceRoot":""}