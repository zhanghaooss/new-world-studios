{"ast":null,"code":"import httpApi from '@/http';\nexport default {\n  data() {\n    return {\n      form: {\n        cinema_id: '',\n        cinema_room_id: this.$route.params.roomId,\n        movie_id: '',\n        showingon_date: '',\n        showingon_time: '',\n        status: false,\n        price: ''\n      },\n      roomInfo: {},\n      //保存放映厅基本信息\n      loading: false,\n      queryMovie: [] //保存模糊查询电影列表之后的结果\n    };\n  },\n\n  methods: {\n    remoteMethod(query) {\n      if (query !== '') {\n        this.loading = true;\n        let params = {\n          page: 1,\n          pagesize: 20,\n          name: query\n        };\n        httpApi.movieApi.queryMovieByName(params).then(res => {\n          this.loading = false;\n          console.log('模糊查询电影列表结果', res);\n          this.queryMovie = res.data.data.result;\n        });\n      }\n      //远程搜索电影列表的方法\n    },\n\n    onSubmit() {}\n  },\n  mounted() {\n    let params = {\n      id: this.form.cinema_room_id\n    };\n    httpApi.cinemaRoomApi.queryById(params).then(res => {\n      console.log('放映厅信息', res);\n      this.roomInfo = res.data.data;\n    });\n  }\n};","map":{"version":3,"names":["httpApi","data","form","cinema_id","cinema_room_id","$route","params","roomId","movie_id","showingon_date","showingon_time","status","price","roomInfo","loading","queryMovie","methods","remoteMethod","query","page","pagesize","name","movieApi","queryMovieByName","then","res","console","log","result","onSubmit","mounted","id","cinemaRoomApi","queryById"],"sources":["src/views/cinema/ShowingonPlanAdd.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t为<b style=\"color: #409eff\">{{ roomInfo.cinema_name }}</b\r\n\t\t>的<b style=\"color: #409eff\"\r\n\t\t\t>{{ roomInfo.cinema_room_name }}（{{ roomInfo.cinema_room_type }}）</b\r\n\t\t>添加排片计划\r\n\t\t<el-divider></el-divider>\r\n\t\t<!--表单  -->\r\n\t\t<el-form ref=\"form\" :model=\"form\" label-width=\"80px\" style=\"width: 700px\">\r\n\t\t\t<el-form-item label=\"选择电影\">\r\n\t\t\t\t<el-select\r\n\t\t\t\t\tv-model=\"form.movie_id\"\r\n\t\t\t\t\tfilterable\r\n\t\t\t\t\tremote\r\n\t\t\t\t\treserve-keyword\r\n\t\t\t\t\t:remote-method=\"remoteMethod\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\tplaceholder=\"输入要安排的电影\"\r\n\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<el-option\r\n\t\t\t\t\t\tv-for=\"item in queryMovie\"\r\n\t\t\t\t\t\t:label=\"item.title + `【${item.star_actor}】`\"\r\n\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t:value=\"item.id\"\r\n\t\t\t\t\t></el-option>\r\n\t\t\t\t</el-select>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"放映日期\">\r\n\t\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t\t<el-date-picker\r\n\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\tv-model=\"form.showingon_date\"\r\n\t\t\t\t\t\tplaceholder=\"选择日期\"\r\n\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t></el-date-picker>\r\n\t\t\t\t</el-col>\r\n\t\t\t\t<el-col class=\"line\" :span=\"2\" style=\"text-align: center\">-</el-col>\r\n\t\t\t\t<el-col :span=\"11\">\r\n\t\t\t\t\t<el-time-select\r\n\t\t\t\t\t\tv-model=\"form.showingon_time\"\r\n\t\t\t\t\t\tplaceholder=\"选择时间\"\r\n\t\t\t\t\t\t:picker-options=\"{\r\n\t\t\t\t\t\t\tstart: '06:00',\r\n\t\t\t\t\t\t\tstep: '00:15',\r\n\t\t\t\t\t\t\tend: '23:59',\r\n\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\t\t></el-time-select>\r\n\t\t\t\t</el-col>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"票价\">\r\n\t\t\t\t<el-input></el-input>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item label=\"立即发布\">\r\n\t\t\t\t<el-switch v-model=\"form.status\"></el-switch>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n\t\t\t\t<el-button>取消</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport httpApi from '@/http';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tcinema_id: '',\r\n\t\t\t\t\tcinema_room_id: this.$route.params.roomId,\r\n\t\t\t\t\tmovie_id: '',\r\n\t\t\t\t\tshowingon_date: '',\r\n\t\t\t\t\tshowingon_time: '',\r\n\t\t\t\t\tstatus: false,\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t},\r\n\t\t\t\troomInfo: {}, //保存放映厅基本信息\r\n\t\t\t\tloading: false,\r\n\t\t\t\tqueryMovie: [], //保存模糊查询电影列表之后的结果\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tremoteMethod(query) {\r\n\t\t\t\tif (query !== '') {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tlet params = { page: 1, pagesize: 20, name: query };\r\n\t\t\t\t\thttpApi.movieApi.queryMovieByName(params).then((res) => {\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\tconsole.log('模糊查询电影列表结果', res);\r\n\t\t\t\t\t\tthis.queryMovie = res.data.data.result;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//远程搜索电影列表的方法\r\n\t\t\t},\r\n\t\t\tonSubmit() {},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet params = { id: this.form.cinema_room_id };\r\n\t\t\thttpApi.cinemaRoomApi.queryById(params).then((res) => {\r\n\t\t\t\tconsole.log('放映厅信息', res);\r\n\t\t\t\tthis.roomInfo = res.data.data;\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"mappings":"AAqEA,OAAAA,OAAA;AACA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,SAAA;QACAC,cAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAC,MAAA;QACAC,QAAA;QACAC,cAAA;QACAC,cAAA;QACAC,MAAA;QACAC,KAAA;MACA;MACAC,QAAA;MAAA;MACAC,OAAA;MACAC,UAAA;IACA;EACA;;EACAC,OAAA;IACAC,aAAAC,KAAA;MACA,IAAAA,KAAA;QACA,KAAAJ,OAAA;QACA,IAAAR,MAAA;UAAAa,IAAA;UAAAC,QAAA;UAAAC,IAAA,EAAAH;QAAA;QACAlB,OAAA,CAAAsB,QAAA,CAAAC,gBAAA,CAAAjB,MAAA,EAAAkB,IAAA,CAAAC,GAAA;UACA,KAAAX,OAAA;UACAY,OAAA,CAAAC,GAAA,eAAAF,GAAA;UACA,KAAAV,UAAA,GAAAU,GAAA,CAAAxB,IAAA,CAAAA,IAAA,CAAA2B,MAAA;QACA;MACA;MACA;IACA;;IACAC,SAAA;EACA;EACAC,QAAA;IACA,IAAAxB,MAAA;MAAAyB,EAAA,OAAA7B,IAAA,CAAAE;IAAA;IACAJ,OAAA,CAAAgC,aAAA,CAAAC,SAAA,CAAA3B,MAAA,EAAAkB,IAAA,CAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,UAAAF,GAAA;MACA,KAAAZ,QAAA,GAAAY,GAAA,CAAAxB,IAAA,CAAAA,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}