{"ast":null,"code":"import axios from 'axios';\n// qs模块可以将对象转换为查询字符串\nimport qs from 'qs';\nimport store from '@/store';\n\n// 创建axios实例\nconst instance = axios.create();\ninstance.interceptors.request.use(function (config) {\n  let token = store.state.token;\n  if (token) {\n    config.headers['Authorization'] = token;\n  }\n  return config;\n});\nconst myaxios = {\n  /**\r\n   * 基于 axios 发送 get 请求，返回 Promise 对象。\r\n   * @param {String} url 请求资源路径\r\n   * @param {Object} params 请求参数\r\n   */\n  get(url, params) {\n    return instance({\n      url,\n      params,\n      method: 'GET'\n    });\n  },\n  /**\r\n   * 基于axios发送post请求\r\n   * @param {String} url 请求资源路径\r\n   * @param {Object} params 请求参数  {page:1, pagesize:20}\r\n   */\n  post(url, params) {\n    // qs模块，可以将params转换成查询字符串\n    // {page:1, pagesize:20}  ==>  page=1&pagesize=20\n    return instance({\n      url,\n      data: qs.stringify(params),\n      method: 'POST'\n    });\n  }\n};\nexport default myaxios;","map":{"version":3,"names":["axios","qs","store","instance","create","interceptors","request","use","config","token","state","headers","myaxios","get","url","params","method","post","data","stringify"],"sources":["C:/Users/29439/Desktop/百慕大影城/bmdstudio-ms-client/src/http/MyAxios.js"],"sourcesContent":["import axios from 'axios';\r\n// qs模块可以将对象转换为查询字符串\r\nimport qs from 'qs';\r\nimport store from '@/store';\r\n\r\n// 创建axios实例\r\nconst instance = axios.create();\r\n\r\ninstance.interceptors.request.use(function (config) {\r\n\tlet token = store.state.token;\r\n\tif (token) {\r\n\t\tconfig.headers['Authorization'] = token;\r\n\t}\r\n\treturn config;\r\n});\r\nconst myaxios = {\r\n\t/**\r\n\t * 基于 axios 发送 get 请求，返回 Promise 对象。\r\n\t * @param {String} url 请求资源路径\r\n\t * @param {Object} params 请求参数\r\n\t */\r\n\tget(url, params) {\r\n\t\treturn instance({ url, params, method: 'GET' });\r\n\t},\r\n\r\n\t/**\r\n\t * 基于axios发送post请求\r\n\t * @param {String} url 请求资源路径\r\n\t * @param {Object} params 请求参数  {page:1, pagesize:20}\r\n\t */\r\n\tpost(url, params) {\r\n\t\t// qs模块，可以将params转换成查询字符串\r\n\t\t// {page:1, pagesize:20}  ==>  page=1&pagesize=20\r\n\t\treturn instance({\r\n\t\t\turl,\r\n\t\t\tdata: qs.stringify(params),\r\n\t\t\tmethod: 'POST',\r\n\t\t});\r\n\t},\r\n};\r\n\r\nexport default myaxios;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB;AACA,OAAOC,EAAE,MAAM,IAAI;AACnB,OAAOC,KAAK,MAAM,SAAS;;AAE3B;AACA,MAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAM,CAAC,CAAC;AAE/BD,QAAQ,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUC,MAAM,EAAE;EACnD,IAAIC,KAAK,GAAGP,KAAK,CAACQ,KAAK,CAACD,KAAK;EAC7B,IAAIA,KAAK,EAAE;IACVD,MAAM,CAACG,OAAO,CAAC,eAAe,CAAC,GAAGF,KAAK;EACxC;EACA,OAAOD,MAAM;AACd,CAAC,CAAC;AACF,MAAMI,OAAO,GAAG;EACf;AACD;AACA;AACA;AACA;EACCC,GAAGA,CAACC,GAAG,EAAEC,MAAM,EAAE;IAChB,OAAOZ,QAAQ,CAAC;MAAEW,GAAG;MAAEC,MAAM;MAAEC,MAAM,EAAE;IAAM,CAAC,CAAC;EAChD,CAAC;EAED;AACD;AACA;AACA;AACA;EACCC,IAAIA,CAACH,GAAG,EAAEC,MAAM,EAAE;IACjB;IACA;IACA,OAAOZ,QAAQ,CAAC;MACfW,GAAG;MACHI,IAAI,EAAEjB,EAAE,CAACkB,SAAS,CAACJ,MAAM,CAAC;MAC1BC,MAAM,EAAE;IACT,CAAC,CAAC;EACH;AACD,CAAC;AAED,eAAeJ,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}