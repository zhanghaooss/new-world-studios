{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      restaurants: [],\n      state2: ''\n    };\n  },\n  methods: {\n    querySearch(queryString, cb) {\n      var restaurants = this.restaurants;\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    createFilter(queryString) {\n      return restaurant => {\n        return restaurant.actor_name.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    handleSelect(item) {\n      console.log(item);\n    }\n  },\n  mounted() {\n    axios.get('http://localhost:3010/movie-actors?page=1&pagesize=100').then(res => {\n      let result = res.data.data;\n      this.restaurants = result;\n      console.log(this.restaurants, this.state2);\n    });\n  }\n};","map":{"version":3,"names":["axios","data","restaurants","state2","methods","querySearch","queryString","cb","results","filter","createFilter","restaurant","actor_name","toLowerCase","indexOf","handleSelect","item","console","log","mounted","get","then","res","result"],"sources":["src/views/actor/ActorList.vue"],"sourcesContent":["<template>\r\n  <div class=\"actor-list\">\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home/index' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>演员管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>演员列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-divider></el-divider>\r\n    <template>\r\n      姓名 <el-autocomplete\r\n        class=\"inline-input\"\r\n        v-model=\"state2\"\r\n        :fetch-suggestions=\"querySearch\"\r\n        placeholder=\"请输入内容\"\r\n        :trigger-on-focus=\"true\"\r\n        @select=\"handleSelect\"\r\n      ></el-autocomplete>\r\n      <el-button\r\n        style=\"margin-left:10px;\"\r\n        type=\"primary\"\r\n        slot=\"append\"\r\n        icon=\"el-icon-search\"\r\n      ></el-button>\r\n    </template>\r\n    <div class=\"acList\">\r\n      <div\r\n        class=\"actor\"\r\n        v-for=\"actor in restaurants\"\r\n      >\r\n        <img\r\n          :src=\"actor.actor_avatar\"\r\n          alt=\"\"\r\n          width=\"80px\"\r\n        >\r\n        <span>{{actor.actor_name}}</span>\r\n      </div>\r\n    </div>\r\n    <el-divider content-position=\"left\">演员列表</el-divider>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  data () {\r\n    return {\r\n      restaurants: [],\r\n      state2: ''\r\n    };\r\n  },\r\n  methods: {\r\n    querySearch (queryString, cb) {\r\n      var restaurants = this.restaurants;\r\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\r\n      // 调用 callback 返回建议列表的数据\r\n      cb(results);\r\n    },\r\n    createFilter (queryString) {\r\n      return (restaurant) => {\r\n        return (restaurant.actor_name.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n      };\r\n    },\r\n    handleSelect (item) {\r\n      console.log(item);\r\n    }\r\n  },\r\n  mounted () {\r\n    axios.get('http://localhost:3010/movie-actors?page=1&pagesize=100').then(res => {\r\n      let result = res.data.data;\r\n      this.restaurants = result;\r\n      console.log(this.restaurants, this.state2)\r\n    })\r\n\r\n\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.acList {\r\n  display: flex;\r\n}\r\n.actor {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n"],"mappings":"AA0CA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAAC,WAAA,EAAAC,EAAA;MACA,IAAAL,WAAA,QAAAA,WAAA;MACA,IAAAM,OAAA,GAAAF,WAAA,GAAAJ,WAAA,CAAAO,MAAA,MAAAC,YAAA,CAAAJ,WAAA,KAAAJ,WAAA;MACA;MACAK,EAAA,CAAAC,OAAA;IACA;IACAE,aAAAJ,WAAA;MACA,OAAAK,UAAA;QACA,OAAAA,UAAA,CAAAC,UAAA,CAAAC,WAAA,GAAAC,OAAA,CAAAR,WAAA,CAAAO,WAAA;MACA;IACA;IACAE,aAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,IAAA;IACA;EACA;EACAG,QAAA;IACAnB,KAAA,CAAAoB,GAAA,2DAAAC,IAAA,CAAAC,GAAA;MACA,IAAAC,MAAA,GAAAD,GAAA,CAAArB,IAAA,CAAAA,IAAA;MACA,KAAAC,WAAA,GAAAqB,MAAA;MACAN,OAAA,CAAAC,GAAA,MAAAhB,WAAA,OAAAC,MAAA;IACA;EAGA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}