{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      restaurants: [],\n      state2: ''\n    };\n  },\n  methods: {\n    searchAc() {\n      axios.post('http://localhost:3010/movie-actors/name', {\n        name: this.state2\n      }).then(res => {\n        console.log(this.state2);\n        console.log(res);\n      });\n    },\n    //显示搜索建议\n    querySearch(queryString, cb) {\n      var restaurants = this.restaurants;\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    createFilter(queryString) {\n      return restaurant => {\n        return restaurant.actor_name.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    handleSelect(item) {\n      console.log(item);\n    }\n  },\n  mounted() {\n    axios.get('http://localhost:3010/movie-actors?page=1&pagesize=100').then(res => {\n      let result = res.data.data;\n      this.restaurants = result;\n      console.log(this.restaurants, this.state2);\n    });\n  }\n};","map":{"version":3,"names":["axios","data","restaurants","state2","methods","searchAc","post","name","then","res","console","log","querySearch","queryString","cb","results","filter","createFilter","restaurant","actor_name","toLowerCase","indexOf","handleSelect","item","mounted","get","result"],"sources":["src/views/actor/ActorList.vue"],"sourcesContent":["<template>\r\n\t<div class=\"actor-list\">\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t\t<el-breadcrumb-item :to=\"{ path: '/home/index' }\">首页</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>演员管理</el-breadcrumb-item>\r\n\t\t\t<el-breadcrumb-item>演员列表</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t<el-divider></el-divider>\r\n\t\t<template>\r\n\t\t\t姓名\r\n\t\t\t<el-autocomplete\r\n\t\t\t\tclass=\"inline-input\"\r\n\t\t\t\tv-model=\"state2\"\r\n\t\t\t\t:fetch-suggestions=\"querySearch\"\r\n\t\t\t\tplaceholder=\"请输入内容\"\r\n\t\t\t\t:trigger-on-focus=\"true\"\r\n\t\t\t\t@select=\"handleSelect\"\r\n\t\t\t></el-autocomplete>\r\n\t\t\t<el-button\r\n\t\t\t\tstyle=\"margin-left: 10px\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tslot=\"append\"\r\n\t\t\t\ticon=\"el-icon-search\"\r\n\t\t\t\t@click=\"searchAc\"\r\n\t\t\t></el-button>\r\n\t\t</template>\r\n\t\t<el-divider content-position=\"left\">演员列表</el-divider>\r\n\t\t<ul class=\"acList\">\r\n\t\t\t<li class=\"actor\" v-for=\"actor in restaurants\">\r\n\t\t\t\t<img :src=\"actor.actor_avatar\" alt=\"\" />\r\n\t\t\t\t<p>{{ actor.actor_name }}</p>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\trestaurants: [],\r\n\t\t\t\tstate2: '',\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearchAc() {\r\n\t\t\t\taxios.post('http://localhost:3010/movie-actors/name', { name: this.state2 }).then((res) => {\r\n\t\t\t\t\tconsole.log(this.state2);\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//显示搜索建议\r\n\t\t\tquerySearch(queryString, cb) {\r\n\t\t\t\tvar restaurants = this.restaurants;\r\n\t\t\t\tvar results = queryString\r\n\t\t\t\t\t? restaurants.filter(this.createFilter(queryString))\r\n\t\t\t\t\t: restaurants;\r\n\t\t\t\t// 调用 callback 返回建议列表的数据\r\n\t\t\t\tcb(results);\r\n\t\t\t},\r\n\t\t\tcreateFilter(queryString) {\r\n\t\t\t\treturn (restaurant) => {\r\n\t\t\t\t\treturn restaurant.actor_name.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\thandleSelect(item) {\r\n\t\t\t\tconsole.log(item);\r\n\t\t\t},\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\taxios.get('http://localhost:3010/movie-actors?page=1&pagesize=100').then((res) => {\r\n\t\t\t\tlet result = res.data.data;\r\n\t\t\t\tthis.restaurants = result;\r\n\t\t\t\tconsole.log(this.restaurants, this.state2);\r\n\t\t\t});\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.acList {\r\n\t\tpadding-top: 20px;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\t.actor {\r\n\t\t\tpadding: 5px;\r\n\t\t\twidth: 100px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\timg {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t}\r\n\t\t\tp {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n"],"mappings":"AAqCA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACAL,KAAA,CAAAM,IAAA;QAAAC,IAAA,OAAAJ;MAAA,GAAAK,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,MAAAR,MAAA;QACAO,OAAA,CAAAC,GAAA,CAAAF,GAAA;MACA;IACA;IACA;IACAG,YAAAC,WAAA,EAAAC,EAAA;MACA,IAAAZ,WAAA,QAAAA,WAAA;MACA,IAAAa,OAAA,GAAAF,WAAA,GACAX,WAAA,CAAAc,MAAA,MAAAC,YAAA,CAAAJ,WAAA,KACAX,WAAA;MACA;MACAY,EAAA,CAAAC,OAAA;IACA;IACAE,aAAAJ,WAAA;MACA,OAAAK,UAAA;QACA,OAAAA,UAAA,CAAAC,UAAA,CAAAC,WAAA,GAAAC,OAAA,CAAAR,WAAA,CAAAO,WAAA;MACA;IACA;IACAE,aAAAC,IAAA;MACAb,OAAA,CAAAC,GAAA,CAAAY,IAAA;IACA;EACA;EACAC,QAAA;IACAxB,KAAA,CAAAyB,GAAA,2DAAAjB,IAAA,CAAAC,GAAA;MACA,IAAAiB,MAAA,GAAAjB,GAAA,CAAAR,IAAA,CAAAA,IAAA;MACA,KAAAC,WAAA,GAAAwB,MAAA;MACAhB,OAAA,CAAAC,GAAA,MAAAT,WAAA,OAAAC,MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}