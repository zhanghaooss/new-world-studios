<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			div {
				width: 440px;
				height: 200px;
			}
			.top {
				background: #000;
				margin-bottom: 20px;
			}
			.bottom {
				background: #7b7b7b;
				margin-top: 10px;
			}
		</style>
	</head>
	<body>
		<div class="top"></div>
		<div class="bottom"></div>
		<script>
			{
				var str = 'abc';
				str += 1;
				var test = typeof str;
				if (test.length == 6) {
					var sign = 'typeof返回结果可能为String';
				}
				console.log(sign);
			}
			{
				var a = [];
				a.push(1, 2);
				console.log(a);
				a.shift(3, 4);
				console.log(a);
				a.concat([5, 6]);
				console.log(a);
				a.splice(0, 1, 2);
				console.log(a);
			}
			{
				function fn(a) {
					console.log(a);
					var a = 666;
					console.log(a);
					function a() {
						var hah = 1;
					}
					console.log(a);
					console.log(b);
					var b = function () {};
					console.log(b);
					function c() {}
				}

				fn(1);
			}
			{
				console.log('a.b.c.d'.replace(/(.)\.(.)\.(.)\.(.)/, '$3.$2.$1.$0'));
			}
			{
				function getPayCode(payType) {
					let payCode = null;
					if (payType === '支付宝') {
						payCode = 1;
					} else if (payType === '微信') {
						payCode = 2;
					}
					console.log(typeof payCode);
					return payCode;
				}
				console.log(getPayCode('微信'));
			}
			{
				console.log('start');
				setTimeout(() => {
					console.log('children2');
					Promise.resolve().then(() => {
						console.log('children3');
					});
				}, 0);
				new Promise(function (resolve, reject) {
					console.log('children4');
					setTimeout(function () {
						console.log('children5');
						resolve('children6');
					}, 0);
				}).then((res) => {
					// flag
					console.log('children7');
					setTimeout(() => {
						console.log(res);
					}, 0);
				});
			}
		</script>
		<script src="">
			{
				var arr = [1, 3, 5, 13, 2];
				arr.forEach(function (item) {
					if (item == 3) {
						return console.log('找到了3，但未结束遍历');
					}
					console.log(item);
				});
			}
			{
				var arr = [11, 22, 33];
				for (var i in arr) {
					console.log(i); // 0  1  2  i在此处代表的是下标
				}
				for (var i of arr) {
					console.log(i); // 11  22  33  i代表的是数组中的元素
				}
			}
			{
				function Per(name, age) {
					this.name = name;
					this.age = age;
				}
				var p1 = new Per('zs', 26);
				Per.prototype.className = '前端';
				Per.prototype.say = function () {
					console.log(`我叫${this.name},我今年${this.age}`);
				};
				console.log(p1);
				for (var i in p1) {
					console.log(i); //name age  className say   可以看到for in循环是可以遍历到原型对象上的属性的
				}
				console.log(Object.keys(p1));
				Object.keys(p1).forEach((key) => {
					console.log(key, p1[key]);
				});
				console.log(Object.values(p1));
			}
			{
				// 需转化数组示例
				data = [
					{ id: '01', lable: '项目经理', pid: '' },
					{ id: '02', lable: '产品leader', pid: '01' },
					{ id: '03', lable: 'UIleader', pid: '01' },
					{ id: '04', lable: '技术leader', pid: '01' },
					{ id: '05', lable: '测试leader', pid: '01' },
					{ id: '06', lable: '运维leader', pid: '01' },
					{ id: '07', lable: '产品经理', pid: '02' },
					{ id: '08', lable: '产品经理', pid: '02' },
					{ id: '09', lable: 'UI设计师', pid: '03' },
					{ id: '10', lable: '前端工程师', pid: '04' },
					{ id: '11', lable: '后端工程师', pid: '04' },
					{ id: '12', lable: '后端工程师', pid: '04' },
					{ id: '13', lable: '测试工程师', pid: '05' },
					{ id: '14', lable: '测试工程师', pid: '05' },
					{ id: '15', lable: '运维工程师', pid: '06' },
				];
				//转化为树
				function TreeData(data) {
					const tree = []; //定义外层数组
					const otherObj = {}; //空对象
					//遍历所有的数组对象
					data.forEach((item) => {
						item.children = []; //为每个数组的每个对象添加children属性
						otherObj[item.id] = item; //将id 与item绑定
					});

					//再次遍历对象
					data.forEach((item) => {
						if (item.pid) {
							otherObj[item.pid].children.push(item);
						} else {
							tree.push(item);
						}
					});
					return tree;
				}
				console.log(TreeData(data));
			}
			{
				let list = [
					{ name: '张三', age: 18 },
					{ name: '李四', age: 19 },
					{ name: '王五', age: 20 },
					{ name: '老六', age: 66 },
				];
				let newArr = list.map((obj) => obj.name);
				console.log(newArr);
			}
			{
				const numbers = [1, 2, 3, 4, 5];
				const filteredNumbers = numbers.map(function (num, index) {
					if (index < 3) {
						return num;
					}
				});

				console.log(filteredNumbers);
			}
			{
				const arr = [3, 5, 10, 15, 66, 200];

				const newArr = arr.map(function (item, index) {
					arr[index] = arr[index] + 10;
					arr.push(999);
					console.log('当前 arr 的值：', arr);
					arr.unshift(111);
					return item;
				});

				console.log(arr);
				console.log(newArr);
			}
			{
				const arr = [
					{
						label: '水果',
						children: [
							{
								label: '香蕉',
							},
							{
								label: '橘子',
							},
						],
					},
					{
						label: '蔬菜',
						children: [
							{
								label: '西红柿',
							},
							{
								label: '白菜',
							},
						],
					},
					{
						label: '小猫',
					},
					{
						label: '小狗',
					},
				];
				const func = (res) =>
					res.reduce((prev, cur) => {
						console.log(prev, cur);
						return prev.concat(Array.isArray(cur.children) ? func(cur.children) : cur);
					}, []);
				console.log(func(arr));
			}
			{
				const date = new Date();
				console.log(date);
				console.log(date.toLocaleString());
				console.log(date.getTime());
				date.setMonth(2, 0);
				console.log(date.getDate());
			}
		</script>
	</body>
</html>
